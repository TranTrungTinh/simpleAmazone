<section id="categories" >
  <div class="container p-5">
    <h4 class="display-4">Categories</h4>
    <div *ngIf="data.message">
      <app-message [type]="data.messageType" [message]="data.message"></app-message>
    </div>
    <hr>
    <div *ngIf="!categories" class="m-auto" >
      <h1 class="text-center display-3 mt-5">
        <i class="fa fa-spinner fa-spin"></i>
      </h1>
    </div>
    <div *ngIf="categories" class="list-group">
      <a 
        *ngFor="let category of categories"
        routerLink="/categories/{{ category._id }}" 
        class="list-group-item list-group-item-action">
        {{ category.name }}
      </a>
    </div>
    <div class="pt-2" *ngIf="!toggleAdd">
      <button type="button" class="btn btn-success" (click)="toggle();">
        <i class="fa fa-plus" aria-hidden="true"></i>
        Add New Category
      </button>
    </div>

    <div *ngIf="toggleAdd">
      <hr style="margin-top: 15rem;">
      <div class="card bg-light mt-5">
        <div class="card-body">
          <h4 class="card-title">Add New Category</h4>
          <hr>
          <form>
            <div class="form-group">
              <label for="">Category</label>
              <input type="text" name="category" class="form-control" [(ngModel)]="name">
            </div>
            <button type="button" class="btn btn-success" (click)="add();">
              <i class="fa fa-plus" aria-hidden="true"></i>
              Add Category
            </button>
            <button type="button" class="btn btn-danger ml-2" (click)="toggle();">
              <i class="fa fa-times" aria-hidden="true"></i>
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

  </div>
</section>
